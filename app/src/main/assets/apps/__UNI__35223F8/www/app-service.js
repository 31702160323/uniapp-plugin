if("undefined"==typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(e){const t=this.constructor;return this.then((n=>t.resolve(e()).then((()=>n))),(n=>t.resolve(e()).then((()=>{throw n}))))}),"undefined"!=typeof uni&&uni&&uni.requireGlobal){const e=uni.requireGlobal();ArrayBuffer=e.ArrayBuffer,Int8Array=e.Int8Array,Uint8Array=e.Uint8Array,Uint8ClampedArray=e.Uint8ClampedArray,Int16Array=e.Int16Array,Uint16Array=e.Uint16Array,Int32Array=e.Int32Array,Uint32Array=e.Uint32Array,Float32Array=e.Float32Array,Float64Array=e.Float64Array,BigInt64Array=e.BigInt64Array,BigUint64Array=e.BigUint64Array}uni.restoreGlobal&&uni.restoreGlobal(Vue,weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),function(e,t){"use strict";function n(e,n){return"Function"===t.toRawType(n)?"function() { [native code] }":n}function i(e,i,a){if("string"==typeof __channelId__&&__channelId__)return a.push(i.replace("at ","uni-app:///")),console[e].apply(console,a);return a.map((function(e){const i=t.toTypeString(e).toLowerCase();if(-1!==["[object object]","[object array]","[object module]"].indexOf(i))try{e="---BEGIN:JSON---"+JSON.stringify(e,n)+"---END:JSON---"}catch(a){e=i}else if(null===e)e="---NULL---";else if(void 0===e)e="---UNDEFINED---";else{const n=t.toRawType(e).toUpperCase();e="NUMBER"===n||"BOOLEAN"===n?"---BEGIN:"+n+"---"+e+"---END:"+n+"---":String(e)}return e})).join("---COMMA---")+" "+i}function a(e,t,...n){const a=i(e,t,n);a&&console[e](a)}var r=(e,t)=>{const n=e.__vccOpts||e;for(const[i,a]of t)n[i]=a;return n};const o=(l="XZH-Calendar",weex.requireModule(l));var l;__definePage("pages/index/index",r({data(){const e=new Date;let t=e.getFullYear(),n=e.getMonth()+1,i=e.getDate();return n=n>9?n:"0"+n,i=i>9?i:"0"+i,{list:[],title:"",description:"",startDate:`${t}-${n}-${i}`,startTime:`${e.getHours()}:${e.getMinutes()}`,endDate:`${t}-${n}-${i}`,endTime:`${e.getHours()}:${e.getMinutes()}`,minutes:0}},onLoad(){o.addEventListener("requestPermissionsResult",(e=>{a("log","at pages/index/index.vue:56","addEventListener",e),uni.showModal({title:"提示",content:e.data.state?"请重新点击按钮":"该权限是用于创建日程通知",showCancel:!1})}))},methods:{submit:function(){const e=new Date(`${this.startDate} ${this.startTime}`),t=new Date(`${this.endDate} ${this.endTime}`);uni.showToast({title:"添加事件",position:"bottom"}),a("log","at pages/index/index.vue:72","submit:",{title:this.title,description:this.description,startTime:e.getTime(),endTime:t.getTime(),minutes:Number.parseInt(this.minutes)}),o.addCalendarEvent({title:this.title,description:this.description,startTime:e.getTime(),endTime:t.getTime(),minutes:Number.parseInt(this.minutes)})},queryCalendarEvent(){o.queryCalendarEvent((e=>{this.list=e,a("log","at pages/index/index.vue:90",e)}))},deleteCalendarEvent(e){uni.showModal({title:"提示",content:"确定删除",success:t=>{t.confirm&&(o.deleteCalendarEvent(Number.parseInt(e)),this.queryCalendarEvent())}})}}},[["render",function(t,n,i,a,r,o){return e.openBlock(),e.createElementBlock("view",{class:"content"},[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":n[0]||(n[0]=e=>r.title=e),class:"buttom",placeholder:"请输入标题"},null,512),[[e.vModelText,r.title]]),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":n[1]||(n[1]=e=>r.description=e),class:"buttom",placeholder:"请输入简述"},null,512),[[e.vModelText,r.description]]),e.createElementVNode("view",{class:"buttom"},[e.createElementVNode("picker",{mode:"date",value:r.startDate,onChange:n[2]||(n[2]=e=>r.startDate=e.detail.value)},[e.createElementVNode("view",null,e.toDisplayString(r.startDate),1)],40,["value"]),e.createElementVNode("picker",{mode:"time",style:{"margin-left":"25rpx"},value:r.startTime,onChange:n[3]||(n[3]=e=>r.startTime=e.detail.value)},[e.createElementVNode("view",null,e.toDisplayString(r.startTime),1)],40,["value"])]),e.createElementVNode("view",{class:"buttom"},[e.createElementVNode("picker",{mode:"date",value:r.endDate,onChange:n[4]||(n[4]=e=>r.endDate=e.detail.value)},[e.createElementVNode("view",null,e.toDisplayString(r.endDate),1)],40,["value"]),e.createElementVNode("picker",{mode:"time",style:{"margin-left":"25rpx"},value:r.endTime,onChange:n[5]||(n[5]=e=>r.endTime=e.detail.value)},[e.createElementVNode("view",null,e.toDisplayString(r.endTime),1)],40,["value"])]),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":n[6]||(n[6]=e=>r.minutes=e),class:"buttom",type:"number",placeholder:"提前时间"},null,512),[[e.vModelText,r.minutes]]),e.createElementVNode("button",{onClick:n[7]||(n[7]=(...e)=>o.submit&&o.submit(...e))},"确定"),e.createElementVNode("button",{onClick:n[8]||(n[8]=(...e)=>o.queryCalendarEvent&&o.queryCalendarEvent(...e))},"查询"),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.list,((t,n)=>(e.openBlock(),e.createElementBlock("view",{key:t.id,class:"item",onClick:e=>o.deleteCalendarEvent(t.id)},e.toDisplayString(t.id)+e.toDisplayString(t.title),9,["onClick"])))),128)),e.createElementVNode("image",{src:"/static/logo.png"})])}]]));const s={onLaunch:function(){a("log","at App.vue:4","App Launch")},onShow:function(){a("log","at App.vue:7","App Show")},onHide:function(){a("log","at App.vue:10","App Hide")}};const{app:u,Vuex:d,Pinia:c}={app:e.createVueApp(s)};uni.Vuex=d,uni.Pinia=c,u.provide("__globalStyles",__uniConfig.styles),u._component.mpType="app",u._component.render=()=>{},u.mount("#app")}(Vue,uni.VueShared);
